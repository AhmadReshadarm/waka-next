!function(){var __webpack_modules__={3063:function(module){module.exports={emit:function(eventName,data,$el){var customEvent;return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style?(customEvent=document.createEvent("CustomEvent")).initCustomEvent(eventName,!0,!0,data):customEvent=new window.CustomEvent(eventName,{detail:data,bubbles:!0,cancelable:!0}),($el=$el||document).dispatchEvent(customEvent)},EVENT:{SIGN_IN_REQUIRED:"sign-in-required",NO_AGE_RESTRICTION:"above-age",NO_COUNTRY_JUMP:"country-jump",CHOOSE_STORE_MODAL_HIDE:"choose-store-modal-hide",CHOOSE_STORE_MODAL_POPED:"choose-store-modal-poped",SHOW_SIMPLE_MESSAGE:"message.show",ADD_ITEM_TO_CART:"cart.add",ADD_ITEM_TO_CART_FINISH:"cart.add.finish",UPDATE_CART:"cart.update",SHOW_PROGRESS:"progress.show",HIDE_PROGRESS:"progress.hide",VARIANT_CHANGE:"variant-change"}}},7781:function(module){module.exports=function(form){if(form&&"FORM"===form.nodeName){var i,j,q={};for(i=form.elements.length-1;i>=0;i-=1)if(""!==form.elements[i].name)switch(form.elements[i].nodeName){case"INPUT":switch(form.elements[i].type){case"text":case"email":case"hidden":case"password":case"button":case"reset":case"submit":case"number":q[form.elements[i].name]=form.elements[i].value;break;case"checkbox":case"radio":form.elements[i].checked&&(q[form.elements[i].name]=form.elements[i].value)}break;case"TEXTAREA":q[form.elements[i].name]=form.elements[i].value;break;case"SELECT":switch(form.elements[i].type){case"select-one":q[form.elements[i].name]=form.elements[i].value;break;case"select-multiple":for(j=form.elements[i].options.length-1;j>=0;j-=1)form.elements[i].options[j].selected&&(q[form.elements[i].name]=form.elements[i].options[j].value)}break;case"BUTTON":switch(form.elements[i].type){case"reset":case"submit":case"button":q[form.elements[i].name]=form.elements[i].value}}return q}}}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},function(){"use strict";function fetchConfig(){var type=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";return{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/".concat(type)}}}var serialize2Json=__webpack_require__(7781),serialize2Json_default=__webpack_require__.n(serialize2Json);function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function udesk_form_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function udesk_form_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?udesk_form_ownKeys(Object(source),!0).forEach((function(key){udesk_form_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):udesk_form_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function udesk_form_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var bus=__webpack_require__(3063),UdeskForm=function(_HTMLElement){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(UdeskForm,_HTMLElement);var Derived,hasNativeReflectConstruct,Constructor,protoProps,staticProps,_super=(Derived=UdeskForm,hasNativeReflectConstruct=_isNativeReflectConstruct(),function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)});function UdeskForm(){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,UdeskForm),(_this=_super.call(this)).init(),_this.submitSuccessDom=_this.querySelector(".submit-success"),_this.submitFailDom=_this.querySelector(".submit-fail"),_this}return Constructor=UdeskForm,protoProps=[{key:"init",value:function(){var _this2=this,form=this.querySelector(".needs-validation");this.debounceSubmit=function(fn,wait){var t,_this=this;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];clearTimeout(t),t=setTimeout((function(){return fn.apply(_this,args)}),wait)}}((function(){_this2.acquireUdeskInfo()}),300),form.addEventListener("submit",(function(e){if(e.preventDefault(),e.stopPropagation(),form.checkValidity()){_this2.submitSuccessDom.classList.add("d-none"),_this2.submitFailDom.classList.add("d-none");var temp=serialize2Json_default()(form),storeName=document.getElementById("customer-current-store");_this2.formObj={subject:"WAKA: Thank you for contacting WAKA Customer Service",content:temp.content,tags:"WAKA, ".concat(storeName.value),type:"email",type_content:temp.email,template_id:"639",ticket_field:{TextField_253:temp.name,TextField_247:temp.phone,TextField_246:temp.email,TextField_254:temp.content}},_this2.debounceSubmit()}else form.classList.add("was-validated")}),!1)}},{key:"acquireUdeskInfo",value:function(){var _this3=this;bus.emit(bus.EVENT.SHOW_PROGRESS),fetch("".concat(window.api_server_domain,"/udesk/acquireUdeskInfo"),udesk_form_objectSpread(udesk_form_objectSpread({},fetchConfig()),{},{body:JSON.stringify(this.formObj)})).then((function(response){return response.json()})).then((function(res){200==res.code?(_this3.submitSuccessDom.classList.remove("d-none"),bus.emit(bus.EVENT.HIDE_PROGRESS)):(_this3.submitFailDom.classList.remove("d-none"),bus.emit(bus.EVENT.HIDE_PROGRESS))})).catch((function(error){_this3.submitFailDom.classList.remove("d-none"),bus.emit(bus.EVENT.HIDE_PROGRESS)}))}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),UdeskForm}(_wrapNativeSuper(HTMLElement));customElements.get("udesk-form")||window.customElements.define("udesk-form",UdeskForm)}()}();