/*! For license information please see list-collections-index.min.js.LICENSE.txt */
!function(){var __webpack_modules__={4046:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _document$querySelect;__webpack_require__(5737),__webpack_require__(58),__webpack_require__(4987),null===(_document$querySelect=document.querySelector("#customerEmail"))||void 0===_document$querySelect||_document$querySelect.value},58:function(module){module.exports={STORE_INFO:{defaultStore:{name:"Global",link:"https://www.wakavaping.com/",code:"gl"},storeList:[{name:"United Kingdom",link:"https://uk.wakavaping.com/",code:"gb"},{name:"Canada",link:"https://ca.wakavaping.com/",code:"ca"},{name:"France",link:"https://fr.wakavaping.com/",code:"fr"},{name:"Spain",link:"https://es.wakavaping.com/",code:"es"},{name:"Russia",link:"https://ru.wakavaping.com/",code:"ru"},{name:"Indonesia",link:"https://idn.wakavaping.com/",code:"id"},{name:"Colombia",link:"https://lat.wakavaping.com/",code:"co"},{name:"Italy",link:"https://it.wakavaping.com/",code:"it"},{name:"New Zealand",link:"https://walavape.com/",code:"nz"}]},STORAGE_KEY:{USER_ID:"RELX_USER_ID"},ANALYZE_TYPE:{CAMPAIGN_LAND_PAGE_UV:0,CAMPAIGN_LAND_PAGE_PV:1,NEW_USER:2,JOIN_GAME_UV:3,JOIN_GAME_TIME:4,WHATS_APP:5}}},3063:function(module){module.exports={emit:function(eventName,data,$el){var customEvent;return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style?(customEvent=document.createEvent("CustomEvent")).initCustomEvent(eventName,!0,!0,data):customEvent=new window.CustomEvent(eventName,{detail:data,bubbles:!0,cancelable:!0}),($el=$el||document).dispatchEvent(customEvent)},EVENT:{SIGN_IN_REQUIRED:"sign-in-required",NO_AGE_RESTRICTION:"above-age",NO_COUNTRY_JUMP:"country-jump",CHOOSE_STORE_MODAL_HIDE:"choose-store-modal-hide",CHOOSE_STORE_MODAL_POPED:"choose-store-modal-poped",SHOW_SIMPLE_MESSAGE:"message.show",ADD_ITEM_TO_CART:"cart.add",ADD_ITEM_TO_CART_FINISH:"cart.add.finish",UPDATE_CART:"cart.update",SHOW_PROGRESS:"progress.show",HIDE_PROGRESS:"progress.hide",VARIANT_CHANGE:"variant-change"}}},1964:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(3063),__webpack_require__(1955)},5737:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{J$:function(){return obj2FormData}});__webpack_require__(3063),__webpack_require__(1964),__webpack_require__(4987);function obj2FormData(obj){var form=new FormData;for(var key in obj)Object.hasOwnProperty.call(obj,key)&&form.append(key,obj[key]);return form}},4987:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(5737),__webpack_require__(1964),__webpack_require__(4046),__webpack_require__(58)},1955:function(){"use strict";function assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)target[key]=source[key]}return target}(function init(converter,defaultAttributes){function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=assign({},defaultAttributes,attributes)).expires&&(attributes.expires=new Date(Date.now()+864e5*attributes.expires)),attributes.expires&&(attributes.expires=attributes.expires.toUTCString()),key=encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+converter.write(value,key)+stringifiedAttributes}}return Object.create({set:set,get:function(key){if("undefined"!=typeof document&&(!arguments.length||key)){for(var cookies=document.cookie?document.cookie.split("; "):[],jar={},i=0;i<cookies.length;i++){var parts=cookies[i].split("="),value=parts.slice(1).join("=");try{var foundKey=decodeURIComponent(parts[0]);if(jar[foundKey]=converter.read(value,foundKey),key===foundKey)break}catch(e){}}return key?jar[key]:jar}},remove:function(key,attributes){set(key,"",assign({},attributes,{expires:-1}))},withAttributes:function(attributes){return init(this.converter,assign({},this.attributes,attributes))},withConverter:function(converter){return init(assign({},this.converter,converter),this.attributes)}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}})})({read:function(value){return'"'===value[0]&&(value=value.slice(1,-1)),value.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(value){return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)},function(){"use strict";var global=__webpack_require__(5737);function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var bus=__webpack_require__(3063),ListCollections=function(_HTMLElement){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ListCollections,_HTMLElement);var Derived,hasNativeReflectConstruct,Constructor,protoProps,staticProps,_super=(Derived=ListCollections,hasNativeReflectConstruct=_isNativeReflectConstruct(),function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)});function ListCollections(){var _this2;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ListCollections),(_this2=_super.call(this)).space=0,_this2.navFirstContainer=_this2.querySelector(".nav-first-container"),_this2.navContainer=_this2.querySelector(".collection-nav"),_this2.collectionName=_this2.dataset.collection,window.addEventListener("DOMContentLoaded",(function(){var _this2$querySelector;_this2.space=null===(_this2$querySelector=_this2.querySelector(".collection-nav"))||void 0===_this2$querySelector?void 0:_this2$querySelector.offsetHeight,_this2.listenAppearInWindow()})),_this2.init(),_this2.viewAllBindEvent(),_this2.initNavbar(),_this2.listenScroll(),_this2.stopScrollListen=!1;var anchor=_this2.dataset.collection;return document.addEventListener("DOMContentLoaded",(function(){if(anchor)try{_this2.scrollDirect(_this2.querySelector("#".concat(anchor)))}catch(error){}})),_this2}return Constructor=ListCollections,protoProps=[{key:"init",value:function(){window.Events={addCart:this.addCart.bind(this)},this.cancelStickHeader()}},{key:"initNavbar",value:function(){var _this3=this,nav=Array.from(this.querySelectorAll(".nav-first-item")),subNav=Array.from(this.querySelectorAll(".nav-children"));subNav.forEach((function(item){item.subNavItems=Array.from(item.querySelectorAll(".nav-secondary-item")),item.subNavItems.forEach((function(subItem){subItem.addEventListener("click",(function(e){item.subNavItems.forEach((function(item){item.classList.remove("active")})),subItem.classList.add("active"),subNav.forEach((function(item){item.classList.remove("active")})),item.classList.add("active"),_this3.scrollDirect(_this3.querySelector("#".concat(subItem.dataset.target)))}),!0)}))})),nav.forEach((function(item,itemIndex){item.addEventListener("click",(function(e){var _subNav$itemIndex,_subNav$itemIndex2,_subNav$itemIndex2$su;_this3.collectionName&&"all"!=_this3.collectionName?window.location.href="/collections/".concat(item.dataset.anchor):!item.classList.contains("active")&&null!==(_subNav$itemIndex=subNav[itemIndex])&&void 0!==_subNav$itemIndex&&_subNav$itemIndex.subNavItems[0]&&(nav.forEach((function(item){item.classList.remove("active")})),item.classList.add("active"),_this3.navFirstContainer.classList.remove("bg-blue","bg-yellow","bg-green"),_this3.navFirstContainer.classList.add("bg-".concat(item.dataset.bg)),null===(_subNav$itemIndex2=subNav[itemIndex])||void 0===_subNav$itemIndex2||null===(_subNav$itemIndex2$su=_subNav$itemIndex2.subNavItems[0])||void 0===_subNav$itemIndex2$su||_subNav$itemIndex2$su.click())}))})),this.nav=nav,this.subNav=subNav}},{key:"scrollTo",value:function(offset,callback){var _this=this,fixedOffset=offset.toFixed(),onScroll=function onScroll(){window.scrollY.toFixed()===fixedOffset&&(_this.navContainer.classList.remove("opacity-0"),window.removeEventListener("scroll",onScroll),callback())};window.addEventListener("scroll",onScroll,{passive:!0}),onScroll(),window.scrollTo({top:offset,behavior:"smooth"})}},{key:"scrollDirect",value:function($dom){var _document$querySelect,_document$querySelect2,_document$querySelect3,_document$querySelect4,_document$querySelect5,behavior=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";if($dom){var headerHeight=~~(null===(_document$querySelect=document.querySelector(".as-redirect-store-container"))||void 0===_document$querySelect?void 0:_document$querySelect.offsetHeight)+~~(null===(_document$querySelect2=document.querySelector(".announcement-bar"))||void 0===_document$querySelect2?void 0:_document$querySelect2.offsetHeight)+~~(null===(_document$querySelect3=document.querySelector(".secondary-navigation"))||void 0===_document$querySelect3?void 0:_document$querySelect3.offsetHeight)+~~(null===(_document$querySelect4=document.querySelector(".as-shopify-header"))||void 0===_document$querySelect4?void 0:_document$querySelect4.offsetHeight)+~~(null===(_document$querySelect5=document.querySelector(".breadcrumb-wrapper"))||void 0===_document$querySelect5?void 0:_document$querySelect5.offsetHeight),offset=$dom.offsetTop+headerHeight-this.space-16;this.stopScrollListen=!0;var _this=this,onScroll=function onScroll(){+window.scrollY.toFixed()>=offset&&(window.removeEventListener("scroll",onScroll),_this.stopScrollListen=!1)};window.addEventListener("scroll",onScroll,{passive:!0}),onScroll(),window.scrollTo({top:offset,behavior:behavior})}}},{key:"listenScroll",value:function(){var _this4=this,oldY=0;document.addEventListener("scroll",(function(e){_this4.stopScrollListen||(window.scrollY>oldY&&_this4.navContainer.offsetTop>_this4.navContainer.offsetHeight?_this4.navContainer.classList.add("opacity-0"):_this4.navContainer.classList.remove("opacity-0"),oldY=window.scrollY)}),{passive:!0})}},{key:"buildThresholdList",value:function(){for(var numSteps=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,thresholds=[],i=1;i<=numSteps;i++){var ratio=i/numSteps;thresholds.push(ratio)}return thresholds.push(0),thresholds}},{key:"listenAppearInWindow",value:function(){var _this5=this,productList=Array.from(this.querySelectorAll(".collection-product")),options={rootMargin:"-".concat(this.space,"px 0px 0px 0px")};this.lastChooseIndex=-1,this.lastSubNavId="",this.curChooseIndex=-1,this.curSubNavId="";var isFirst=!0,productObserver=new IntersectionObserver((function(entries){entries.forEach((function(entry){_this5.stopScrollListen?entry.isIntersecting&&(_this5.lastSubNavId=entry.target.dataset.subNav,_this5.curSubNavId=entry.target.dataset.subNav):(entry.isIntersecting?_this5.nav.forEach((function(item,index){index===entry.target.dataset.firstNav-1?_this5.dealWithActive(entry.target.dataset.subNav,item,index):(item.classList.remove("active"),_this5.subNav[index].classList.remove("active"))})):isFirst||_this5.nav.forEach((function(item,index){index===entry.target.dataset.firstNav-1&&_this5.subNav[index].subNavItems.forEach((function(subItem){subItem.id===entry.target.dataset.subNav&&(subItem.classList.remove("active"),_this5.curSubNavId===entry.target.dataset.subNav&&(item.classList.remove("active"),_this5.subNav[index].classList.remove("active")))}))})),_this5.querySelector(".nav-first-item.active")||_this5.nav.forEach((function(item,index){index===_this5.lastChooseIndex&&_this5.dealWithActive(_this5.lastSubNavId,item,index,!0)})))})),isFirst=!1}),options);productList.forEach((function(item){productObserver.observe(item)}))}},{key:"dealWithActive",value:function(subNav,item,index,noActive){var _this6=this;-1===this.lastChooseIndex||noActive?this.lastChooseIndex=index:this.lastChooseIndex=this.curChooseIndex,this.curChooseIndex=index,item.classList.add("active"),this.navFirstContainer.classList.remove("bg-blue","bg-yellow","bg-green"),this.navFirstContainer.classList.add("bg-".concat(item.dataset.bg)),this.subNav[index].classList.add("active"),this.subNav[index].subNavItems.forEach((function(subItem){subItem.id===subNav?(!_this6.curSubNavId||noActive?_this6.lastSubNavId=subItem.id:_this6.lastSubNavId=_this6.curSubNavId,_this6.curSubNavId=subItem.id,subItem.classList.add("active")):subItem.classList.remove("active")}))}},{key:"viewAllBindEvent",value:function(){var _this7=this;this.querySelectorAll(".view-all").forEach((function(dom){dom.addEventListener("click",(function(e){var invisibleProducts=_this7.querySelectorAll("#".concat(e.target.dataset.collection," .toggle-item"));e.target.classList.toggle("open"),Array.from(invisibleProducts).forEach((function(item){item.classList.toggle("d-none")}))}))}))}},{key:"addCart",value:function(e){e.preventDefault(),e.stopPropagation();var ele=e.currentTarget,$ball=ele.parentElement;if(!ele.dataset.disabled){var params=(0,global.J$)({id:ele.dataset.id,quantity:1});fetch(window.routes.cart_add_url,{method:"POST",body:params}).then((function(res){!function(res){if(window.GLOBAL_VARIANT.enable_image_pixel||window.GLOBAL_VARIANT.image_pixel){var img=document.createElement("img");img.height=1,img.width=1,img.style="border-style:none;",img.src="".concat(window.GLOBAL_VARIANT.image_pixel,"&").concat(Date.now()),document.body.appendChild(img)}}(),bus.emit(bus.EVENT.ADD_ITEM_TO_CART),window.requestAnimationFrame((function(){var _$ancestor$querySelec,$cart=document.querySelector(".as-cart-icon-bubble"),url=null===(_$ancestor$querySelec=$ball.closest(".product-card").querySelector(".first-img img"))||void 0===_$ancestor$querySelec?void 0:_$ancestor$querySelec.getAttribute("src");!function($ball,$target,url){var _$ball$getBoundingCli=$ball.getBoundingClientRect(),pageX=_$ball$getBoundingCli.x,pageY=_$ball$getBoundingCli.y,_$target$getBoundingC=$target.getBoundingClientRect(),targetX=_$target$getBoundingC.x,targetY=_$target$getBoundingC.y,$el=document.createElement("div");$el.innerHTML='<img src="'.concat(url,'" style="width:100%"/>'),$el.style="overflow: hidden;appearance: none;border: none;outline: none;width: 80px;border-radius: 50%;position:fixed;",$el.style.top=pageY+"px",$el.style.left=pageX+"px",$el.style.opacity=1,$el.style.transform="translateY(0px) rotate(0deg)",$el.style.zIndex=9999,document.body.appendChild($el);var distanceY=targetY-pageY;targetY<=0&&(distanceY=-pageY),targetY>=window.innerHeight&&(distanceY=window.innerHeight-pageY),$el.style.transition="opacity ".concat(.75,"s linear,left ").concat(.75,"s linear,transform ").concat(.75,"s cubic-bezier(.14,.85,.58,.88)"),window.requestAnimationFrame((function(){$el.style.left=targetX+"px",$el.style.opacity=.2,$el.style.transform="translateY(".concat(distanceY,"px) rotate(1460deg) scale(0.2)"),setTimeout((function(){$el&&$el.remove()}),850)}))}(ele,$cart,url)}))})).catch((function(err){}))}}},{key:"cancelStickHeader",value:function(){document.addEventListener("DOMContentLoaded",(function(){window.StickyHeaderInstance&&(window.StickyHeaderInstance.destroy(),setTimeout((function(){window.StickyHeaderInstance&&window.StickyHeaderInstance.destroy()}),100))}))}}],protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),ListCollections}(_wrapNativeSuper(HTMLElement));window.customElements.define("list-collections",ListCollections)}()}();